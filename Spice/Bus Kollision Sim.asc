Version 4
SHEET 1 1468 680
WIRE 800 -112 672 -112
WIRE 928 -112 800 -112
WIRE 1104 -112 928 -112
WIRE 800 -96 800 -112
WIRE -224 -80 -512 -80
WIRE 0 -80 -144 -80
WIRE 256 -80 0 -80
WIRE 512 -80 320 -80
WIRE 672 -80 672 -112
WIRE 1104 -80 1104 -112
WIRE -224 16 -400 16
WIRE 112 16 -144 16
WIRE 256 16 112 16
WIRE 512 16 512 -80
WIRE 512 16 320 16
WIRE 560 16 512 16
WIRE 672 16 672 -16
WIRE 672 16 640 16
WIRE 800 16 800 -16
WIRE 800 16 672 16
WIRE -400 32 -400 16
WIRE 112 32 112 16
WIRE 1104 32 1104 0
WIRE 1200 32 1104 32
WIRE 1104 64 1104 32
WIRE 1200 64 1200 32
WIRE -512 96 -512 -80
WIRE 0 96 0 -80
WIRE 928 144 928 -112
WIRE 1104 160 1104 144
WIRE 1200 160 1200 128
WIRE 1200 160 1104 160
WIRE 1104 176 1104 160
WIRE -512 240 -512 176
WIRE -400 240 -400 112
WIRE -400 240 -512 240
WIRE 0 240 0 176
WIRE 112 240 112 112
WIRE 112 240 0 240
WIRE -400 272 -400 240
WIRE 112 272 112 240
WIRE 928 272 928 224
FLAG 112 272 0
FLAG -400 272 0
FLAG 928 272 0
FLAG 1104 176 0
FLAG 800 16 AIN0
FLAG 1200 32 AIN1
FLAG 0 -80 COMM_A
FLAG 112 16 COMM_B
SYMBOL voltage 0 80 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(1 3.5 0 30n 30n 1u 2u)
SYMATTR SpiceLine Rser=10
SYMBOL voltage 112 16 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(3.5 1 0 30n 30n 1u 2u)
SYMATTR SpiceLine Rser=10
SYMBOL diode 320 0 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 320 -96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 656 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL cap 656 -80 R0
SYMATTR InstName C1
SYMATTR Value 47p
SYMBOL voltage -512 80 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(3.5 1 2.1u 30n 30n 1u 2u)
SYMATTR SpiceLine Rser=10
SYMBOL voltage -400 16 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(1 3.5 2.1u 30n 30n 1u 2u)
SYMATTR SpiceLine Rser=10
SYMBOL res 784 -112 R0
SYMATTR InstName R2
SYMATTR Value 22k
SYMBOL voltage 928 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 5
SYMBOL res 1088 -96 R0
SYMATTR InstName R3
SYMATTR Value 3k3
SYMBOL res 1088 48 R0
SYMATTR InstName R4
SYMATTR Value 2k2
SYMBOL cap 1184 64 R0
SYMATTR InstName C2
SYMATTR Value 470p
SYMBOL res -128 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res -128 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100k
TEXT 606 170 Left 2 !.tran 0 5u 0
